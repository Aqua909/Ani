<!--
This file is part of the AniSearch Discord Bot.

Copyright (C) 2021 IchBinLeoon

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program. If not, see <https://www.gnu.org/licenses/>.
-->

<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AniSearch Dashboard</title>
    <link href="{{url_for('static', filename='favicon.png')}}" rel="icon" type="image/png" sizes="256x256">
    <link href="{{url_for('static', filename='css/styles.css')}}" rel="stylesheet" type="text/css">
    <script type="text/javascript">
      let uptime = {{uptime}};
    </script>
  </head>
  <body>
    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <script>
          let messages = {{messages|safe}};
          for (let i=0; i<messages.length; i++) {
            alert(messages[i]);
          }
        </script>
      {% endif %}
    {% endwith %}
    <div class="header">
      <a>AniSearch Dashboard</a>
    </div>
    {% if ready == True%}
    <div class="box" style="background-color: green; border: 2px solid green">
      <p class="box-status">Online</p>
    </div>
    {% else %}
    <div class="box" style="background-color: red; border: 2px solid red">
      <p class="box-status">Offline</p>
    </div>
    {% endif %}
    <div class="box">
      <p class="box-headline">Guilds</p>
      <p class="box-value">{{guilds}}</p>
    </div>
    <div class="box">
      <p class="box-headline">Users</p>
      <p class="box-value">{{users}}</p>
    </div>
    <div class="box">
      <p class="box-headline">Channels</p>
      <p class="box-value">{{channels}}</p>
    </div>
    <div class="box">
      <p class="box-headline">Uptime</p>
      <p class="box-value" id="uptime">00:00:00</p>
    </div>
    <div class="box">
      <p class="box-headline">Shards</p>
      <p class="box-value">{{shards}}</p>
    </div>
    <div class="box">
      <p class="box-headline">Latency</p>
      <p class="box-value">{{latency}}</p>
    </div>
    <div class="box">
      <p class="box-headline">Cogs</p>
      <p class="box-value">{{cogs}}</p>
    </div>
    <button class="button" onclick="redirectLogs()">AniSearch Logs</button>
    <button class="button" onclick="reconnect()">Reconnect</button>
    <script type=text/javascript src="{{url_for('static', filename='js/index.js')}}"></script>
  </body>
</html>